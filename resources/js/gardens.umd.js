(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.gardens=b())})(this,function(){'use strict';function a(a){let c=50,d=50,e=50;for(const b in a)c=c*a.charCodeAt(b)**12%175+50,[e,c,d]=[c,d,e];return`#${c.toString(16)}${d.toString(16)}${e.toString(16)}`}function b(a,b){return null!=a&&"function"==typeof a.toString?a.toString():b}function c(a,b){return{text:a,format:b?`${Object.keys(b).map(a=>`${a.replace(/[A-Z]/g,a=>`-${a.toLowerCase()}`)}: ${b[a]}`).join("; ")}`:""}}class d{constructor(a,{useProxy:b}){this.useProxy=b,this.scopes={default:a,nested:{}}}scope(...a){let b=this.scopes;for(let c=0;c<a.length;c++){const d=a[c];if("string"!=typeof d)throw this.scopes.default.typeerror("Scope names must all be strings");b=d in b.nested?b.nested[d]:b.nested[d]={default:b.default.createScope(d),nested:{}}}return this.useProxy?b.default.bound():b.default}}if("undefined"==typeof console)throw new Error("This version of gardens does not support this environment.");const e={defaultOutputType:"console",defaultStream:{write:console.log},debug:"",moveCursorBy:()=>null,inspect:function(a){switch(typeof a){case"boolean":case"function":case"number":return a.toString();case"string":return a;default:return a instanceof RegExp?a.toString():JSON.stringify(a,null,4<Object.keys(a).length?2:0);}},performance:{now:Date.now},style:c,supportsColor:!1,timingPrecision:0};class f{constructor(b,c,d){d&&(this._super=d),this.options={scope:b,stream:this._super&&this._super.options.stream||e.defaultStream,outputType:this._super&&this._super.options.outputType||e.defaultOutputType,supportsColor:this._super&&this._super.options.supportsColor||e.supportsColor,timingPrecision:this._super&&this._super.options.timingPrecision||e.timingPrecision,scopeStyle:{color:b&&a(b)},verbose:this._super&&this._super.options.verbose||e.debug.includes(b),displayTime:this._super&&this._super.options.displayTime||!1,displayDate:this._super&&this._super.options.displayDate||!1},c&&this._checkOptions(c),this._times={},this._counts={}}static configureEnvironment(a){for(const[b,c]of Object.entries(a))null!=c&&(e[b]=c)}createScope(a,b){if("string"!=typeof a&&null!=a)throw new Error("scope must be a string or undefined");return new f(a,b,this)}createManager(a,b={useProxy:!0}){const{useProxy:c}=b;if("string"!=typeof a)throw new Error("manager name must be a string");return new d(this.createScope(a,b),{useProxy:c})}bound(){return new Proxy(this,{get(a,b){return"createScope"===b||"createManager"===b||"bound"===b?(a.warn(`Bound gardens can not use method '${b}'.`),()=>null):"function"==typeof a[b]?a[b].bind(a):a[b]}})}configure(a){return this._checkOptions(a),this}_checkOptions(a){if(a.stream&&("function"==typeof a.stream.write?(this.options.stream=a.stream,this.options.outputType="text"):this.warn("Cannot set stream to an object without a write method.")),a.outputType)switch(a.outputType){case"ansi":case"console":case"html":case"text":this.options.outputType=a.outputType;break;default:throw this.typeerror("Invalid output type!");}"number"==typeof a.timingPrecision&&(this.options.timingPrecision=a.timingPrecision),a.scopeStyle&&Object.assign(this.options.scopeStyle,a.scopeStyle),"verbose"in a&&(this.options.verbose=!!a.verbose),"displayDate"in a&&(this.options.displayDate=!!a.displayDate),"displayTime"in a&&(this.options.displayTime=!!a.displayTime)}assert(a,...b){if(!a)throw this.assertionerror(`${a} is not truthy!`,...b)}assert_eq(a,b,...c){if(a!==b)throw this.assertionerror(`${a} is not equal to ${b}!`,...c)}deny(a,...b){if(a)throw this.assertionerror(`${a} is not falsy!`,...b)}throws(a,...b){try{a()}catch(a){return}throw this.assertionerror(`Function didn't throw!`,...b)}raw(...a){a.forEach(a=>this.options.stream.write(a))}styled(a,b){this.options.stream.write(...this._transform([this._style(a,b)]))}log(...a){this._print({type:"log"},...a)}info(...a){this._print({type:"info",style:{color:"#242f91"}},...a)}success(...a){this._print({type:"success",style:{color:"#40a456"}},...a)}warning(...a){this._print({type:"warning",style:{color:"#ecb448"}},...a)}warn(...a){this.warning(...a)}failure(...a){this._print({type:"failure",style:{color:"#ff1212"}},...a)}fail(...a){this.failure(...a)}debug(...a){return!!this.options.verbose&&(this._print({type:"debug",style:{color:"#ff8800"}},...a),!0)}trace(a,...b){if(this.options.verbose){const c=new Error(a);return this._print({type:"trace",style:{color:"#ff8800"}},`${a}\n${c.stack}\n`,...b),!0}return!1}error(a,...b){const c=new Error(a);return this._print({type:"error",style:{color:"#ff1212"}},`${a}\n${c.stack}\n`,...b),c}typeerror(a,...b){const c=new TypeError(a);return this._print({type:"type error",style:{color:"#ff1212"}},`${a}\n${c.stack}\n`,...b),c}referenceerror(a,...b){const c=new ReferenceError(a);return this._print({type:"reference error",style:{color:"#ff1212"}},`${a}\n${c.stack}\n`,...b),c}assertionerror(a,...b){const c=new Error(a);return this._print({type:"assertion error",style:{color:"#ff1212"}},`Assert failed! ${a}\n${c.stack}\n`,...b),c}catch(a,...b){const c=a instanceof Error?a:new Error(a);return this.options.verbose&&this._print({type:"caught error",style:{color:"#ff1212"}},`${c.name}: ${c.message}\n${c.stack}\n`,...b),c}time(a){1<arguments.length&&this.warn(`'.time' should only take one argument. Pass additional arguments to '.timeEnd'.`),null==a&&(a=null),this._times[a]?this._times[a].push(e.performance.now()):this._times[a]=[e.performance.now()]}timeEnd(a,...c){if(null==a&&(a=null),!this._times[a]||!this._times[a].length)return void this.warn(`'.timeEnd' was called for ${b(a,"null")} without first calling '.time'!`,...c);const d=e.performance.now()-this._times[a].pop();this._print({type:b(a,"time")},`${this.options.timingPrecision?d.toPrecision(this.options.timingPrecision):d}ms`,...c)}count(a,...c){null==a&&(a=null),this._counts[a]||(this._counts[a]=0);const d=++this._counts[a],e=1===d?"time":"times";this._print({type:b(a,"count")},`${d} ${e}`,...c)}countReset(a){null==a&&(a=null),this._counts[a]=0}_scopePrefix(a=this.options.outputType){const b=this._super?this._super._scopePrefix(a):[];return this.options.scope&&b.push(this._style(`[${this.options.scope}]`,this.options.scopeStyle,a)),b}_print({type:a,style:b},...c){const d=this._scopePrefix();d.push(this._style(`[${a}]`,b||{color:"#5b5b5b"})),this.options.displayDate&&d.push(this._style(`[${new Date().toLocaleDateString()}]`,{color:"#999999"})),this.options.displayTime&&d.push(this._style(`[${new Date().toLocaleTimeString()}]`,{color:"#999999"})),c.forEach(a=>{"string"==typeof a?d.push(this._style(` ${a}`)):d.push({raw:a})}),this.options.stream.write(...this._transform(d))}_style(a,b,d=this.options.outputType){return"ansi"===d||"console"===d?e.supportsColor?e.style(a,b):{text:a}:"html"===d?c(a,b):{text:a,format:null}}_transform(a){let b="";const c=[],d=[];let f=!1;return a.forEach(a=>{if("raw"in a){if("console"===this.options.outputType)return d.push(a.raw),void(f=!0);a={text:` ${e.inspect(a.raw,this.options)}`}}"text"in a&&("console"===this.options.outputType?f?d.push(a.text):null==a.format?b+=a.text:(b+=`%c${a.text}`,c.push(a.format)):"html"===this.options.outputType?b+=`<span${a.format?` style="${a.format}"`:""}>${a.text.replace(/ {2,}/g,a=>a.replace(/ /g,"&nbsp;")).replace(/\n/g,"<br />")}</span>`:b+=a.text)}),("ansi"===this.options.outputType||"text"===this.options.outputType)&&(b+="\n"),"html"===this.options.outputType&&(b+="<br />"),[b,...c,...d]}}const g={browser:"undefined"!=typeof window&&"undefined"!=typeof navigator,node:"undefined"!=typeof process&&process.versions&&process.versions.node},h=/^#[0-9a-f]{6}$/i;if(g.browser){const a=parseFloat((navigator.userAgent.match(/Edge?\/([\d.]+)/)||["","0"])[1]),b="undefined"!=typeof performance;f.configureEnvironment({performance:b?performance:null,supportsColor:!a||19<=a,timingPrecision:b?6:0})}else if(g.node){const a=require("chalk"),{performance:b}=require("perf_hooks"),c=require("readline"),d=require("supports-color"),{inspect:e}=require("util"),g=d.stdout.hasBasic;f.configureEnvironment({defaultOutputType:"ansi",defaultStream:process.stdout,inspect(a,b){return e(a,{colors:g&&"ansi"===b.outputType})},moveCursorBy(a,b){c.moveCursor(process.stdout,a,b)},performance:b,style(b,c){if(!c)return{text:b};let d=a;return h.test(c.backgroundColor)&&(d=d.bgHex(c.backgroundColor)),c.color&&(d=d.hex(c.color)),"italic"===c.fontStyle&&(d=d.italic),400<c.fontWeight&&(d=d.bold),c.textDecoration&&(d=d.underline,c.textDecoration.includes("underline")&&(d=d.underline),c.textDecoration.includes("line-through")&&(d=d.strikethrough)),{text:d(b)}},supportsColor:g,timingPrecision:6})}var i=new f;return i});
//# sourceMappingURL=gardens.umd.js.map
